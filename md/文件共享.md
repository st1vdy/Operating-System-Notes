# 文件共享

## 硬链接

**硬链接**是一种基于索引节点(inode)的共享方式，核心思路是：不同用户使用同一个文件时，如果采用了索引节点存储文件信息，那么实际上所有的不同目录下该文件的目录项都会链接到同一个索引节点，这个索引节点可以设置一个**链接计数器**来记录当前链接到索引节点上的用户目录项数量。

当用户删除文件时就有两种情况：

- 链接计数器减一后大于0：只删除目录项断开链接
- 链接计数器减一后等于0：删除目录项+删除索引节点+删除文件

## 软链接（符号链）

**软链接**其实就是“快捷方式”，它是一个特殊的link文件，存储着指向真实文件的路径。与硬链接不同的是，删除软链接指向的文件并不会影响真实文件（只是删除了一个路径文件）；删除真实文件会导致软链接失效。